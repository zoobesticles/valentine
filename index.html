<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Valentine?</title>
  <style>
    :root{
      --bg1:#ffdde1; --bg2:#ee9ca7; --card:#ffffffcc; --text:#1f1f1f;
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh; display:grid; place-items:center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1000px 600px at 20% 10%, #fff 0%, transparent 60%),
                  linear-gradient(135deg, var(--bg1), var(--bg2));
      color:var(--text);
      overflow:hidden;
    }
    .card{
      width:min(520px, 92vw);
      background:var(--card);
      backdrop-filter: blur(10px);
      border:1px solid #ffffff80;
      border-radius:24px;
      padding:28px 22px;
      box-shadow: 0 10px 40px rgba(0,0,0,.12);
      text-align:center;
      position:relative;
    }
    h1{margin:0 0 10px; font-size: clamp(26px, 4vw, 36px);}
    p{margin:0 0 18px; opacity:.9}
    .name{
      display:inline-block;
      padding:2px 10px;
      border-radius:999px;
      background:#fff;
      border:1px solid #00000010;
    }
    .btns{
      display:flex; gap:12px; justify-content:center; align-items:center;
      margin-top:18px;
      position:relative;
      height:60px;
    }
    button{
      border:0; cursor:pointer;
      padding:14px 18px;
      border-radius:999px;
      font-weight:700;
      box-shadow: 0 8px 20px rgba(0,0,0,.12);
      transition: transform .12s ease, box-shadow .12s ease, width .12s ease;
      user-select:none;
      touch-action:manipulation;
    }
    #yes{
      background: linear-gradient(135deg, #ff4d6d, #ff758f);
      color:white;
      min-width:120px;
    }
    #no{
      background:white;
      border:1px solid #00000014;
      color:#333;
      min-width:120px;
      position:absolute;
      right:0;
    }
    button:active{transform: translateY(1px) scale(.99)}
    .small{
      font-size:12px; margin-top:12px; opacity:.75;
    }
    .hearts{
      position:fixed; inset:0; pointer-events:none;
      overflow:hidden;
    }
    .heart{
      position:absolute;
      font-size:18px;
      animation: floatUp linear forwards;
      opacity:.9;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.12));
    }
    @keyframes floatUp{
      from{ transform: translateY(20px) scale(.8); opacity:0 }
      10%{opacity:.9}
      to{ transform: translateY(-110vh) scale(1.2); opacity:0 }
    }
    .hidden{display:none}
    .success h2{margin:8px 0 6px; font-size: clamp(24px, 3.6vw, 30px);}
    .success .big{
      font-size: clamp(36px, 6vw, 56px);
      margin: 8px 0 6px;
    }
    .pill{
      display:inline-flex; gap:8px; align-items:center; justify-content:center;
      padding:10px 14px; border-radius:999px;
      background:#fff; border:1px solid #00000010;
      margin-top:12px;
    }
    a{color:#ff2d55; font-weight:700; text-decoration:none}
  </style>
</head>
<body>
  <div class="hearts" id="hearts"></div>

  <div class="card" id="card">
    <div id="ask">
      <h1>Will you be my Valentine, <span class="name" id="person">Alex</span>? ğŸ’˜</h1>
      <p>You can say yesâ€¦ or attempt to say no ğŸ˜Œ</p>

      <div class="btns" id="btnArea">
        <button id="yes">Yes ğŸ’</button>
        <button id="no">No ğŸ™ˆ</button>
      </div>

      <div class="small" id="tease">Tip: â€œNoâ€ isâ€¦ a little shy.</div>
    </div>

    <div id="success" class="success hidden">
      <div class="big">ğŸ¥°ğŸ’–</div>
      <h2>YAYYYYY! Thank you!!</h2>
      <p>Here are some hugs & kisses for you:</p>
      <div class="pill">ğŸ¤—ğŸ¤—ğŸ¤— &nbsp; ğŸ’‹ğŸ’‹ğŸ’‹</div>
      <p class="small">P.S. Youâ€™re officially my favorite human today.</p>
      <p class="small"><a href="#" id="restart">Replay</a></p>
    </div>
  </div>

<script>
  // --- Customize name quickly:
  // Option A) Change "Alex" in the HTML above
  // Option B) Use ?name=Alex in the URL (works on GitHub Pages too)
  const params = new URLSearchParams(location.search);
  const name = params.get("name");
  if (name) document.getElementById("person").textContent = name;

  const yes = document.getElementById("yes");
  const no = document.getElementById("no");
  const btnArea = document.getElementById("btnArea");
  const tease = document.getElementById("tease");
  const ask = document.getElementById("ask");
  const success = document.getElementById("success");
  const hearts = document.getElementById("hearts");
  const restart = document.getElementById("restart");

  let yesScale = 1;
  let noDodges = 0;

  function spawnHearts(count = 18){
    const emojis = ["ğŸ’–","ğŸ’˜","ğŸ’•","ğŸ’","ğŸ’—","â¤ï¸","ğŸ˜˜","âœ¨"];
    for (let i=0;i<count;i++){
      const el = document.createElement("div");
      el.className = "heart";
      el.textContent = emojis[Math.floor(Math.random()*emojis.length)];
      const left = Math.random()*100;
      const dur = 2.2 + Math.random()*2.2;
      const size = 16 + Math.random()*18;
      el.style.left = left + "vw";
      el.style.bottom = "-10vh";
      el.style.animationDuration = dur + "s";
      el.style.fontSize = size + "px";
      hearts.appendChild(el);
      setTimeout(()=> el.remove(), dur*1000);
    }
  }

  function randomPositionWithin(area, button){
    const areaRect = area.getBoundingClientRect();
    const btnRect = button.getBoundingClientRect();
    const pad = 8;

    const maxX = areaRect.width - btnRect.width - pad;
    const maxY = areaRect.height - btnRect.height - pad;

    const x = Math.max(pad, Math.random()*maxX);
    const y = Math.max(pad, Math.random()*maxY);

    return { x, y };
  }

  function dodge(){
    noDodges++;
    tease.textContent = [
      "Nope ğŸ˜¼",
      "Too slow ğŸ˜",
      "Try again ğŸ˜Œ",
      "It ran away ğŸ™ƒ",
      "Be honest ğŸ˜­",
      "Okay butâ€¦ why ğŸ¥º"
    ][Math.min(noDodges-1, 5)];

    // make YES bigger each time (playful pressure)
    yesScale = Math.min(1 + noDodges*0.18, 2.2);
    yes.style.transform = `scale(${yesScale})`;

    // move NO around inside the button area
    const {x,y} = randomPositionWithin(btnArea, no);
    no.style.left = x + "px";
    no.style.top = y + "px";
    no.style.right = "auto";
  }

  // Dodge triggers: hover (desktop) + touchstart (mobile) + click
  no.addEventListener("mouseenter", dodge);
  no.addEventListener("click", (e) => { e.preventDefault(); dodge(); });
  no.addEventListener("touchstart", (e) => { e.preventDefault(); dodge(); }, {passive:false});

  yes.addEventListener("click", () => {
    ask.classList.add("hidden");
    success.classList.remove("hidden");
    spawnHearts(40);
    // a little heart confetti for a few seconds
    let bursts = 0;
    const t = setInterval(()=>{
      spawnHearts(18);
      bursts++;
      if (bursts > 5) clearInterval(t);
    }, 350);
  });

  restart.addEventListener("click", (e) => {
    e.preventDefault();
    success.classList.add("hidden");
    ask.classList.remove("hidden");
    yesScale = 1; noDodges = 0;
    yes.style.transform = "scale(1)";
    no.style.left = ""; no.style.top = ""; no.style.right = "0";
    tease.textContent = "Tip: â€œNoâ€ isâ€¦ a little shy.";
  });

  // set initial NO position nicely
  requestAnimationFrame(()=> {
    no.style.top = "0px";
    no.style.right = "0";
  });
</script>
</body>
</html>
